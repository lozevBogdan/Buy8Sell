package com.example.sellbuy.service.impl;

import com.example.sellbuy.model.entity.PictureEntity;
import com.example.sellbuy.model.entity.ProductEntity;
import com.example.sellbuy.repository.PictureRepository;
import com.example.sellbuy.service.PictureService;
import org.springframework.stereotype.Service;

import java.util.Optional;

@Service
public class PictureServiceImpl implements PictureService {

    private final PictureRepository pictureRepository;

    public PictureServiceImpl(PictureRepository pictureRepository) {
        this.pictureRepository = pictureRepository;
    }

    @Override
    public void initializePictures() {

        if(pictureRepository.count() == 0){
            PictureEntity picture1 = new PictureEntity();
            picture1.setUrl("data:image/jpeg;base64,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");
            pictureRepository.save(picture1);
        }


    }

    @Override
    public PictureEntity addPictureEntity(PictureEntity picture1) {
        return pictureRepository.save(picture1);
    }

    @Override
    public PictureEntity getFirstPicture() {
        return pictureRepository.findAll().get(0);
    }

    @Override
    public PictureEntity addPictureInDb(PictureEntity pictureEntity) {

        return this.pictureRepository.save(pictureEntity);
    }

    @Override
    public void deleteByProductId(Long id) {

        this.pictureRepository.deleteByProductId(id);

    }

    @Override
    public PictureEntity findByProductId(Long id) {
        return this.pictureRepository.findByProductId(id);
    }

    @Override
    public Optional<PictureEntity> findByUrl(String urlPicture) {

       return this.pictureRepository.findByUrl(urlPicture);
    }

    @Override
    public void deletePictureById(Long id) {
        this.pictureRepository.deleteById(id);
    }

}