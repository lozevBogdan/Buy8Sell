package com.example.sellbuy.service.impl;

import com.example.sellbuy.model.entity.PictureEntity;
import com.example.sellbuy.model.entity.ProductEntity;
import com.example.sellbuy.repository.PictureRepository;
import com.example.sellbuy.service.PictureService;
import com.example.sellbuy.service.ProductService;
import org.springframework.context.annotation.Lazy;
import org.springframework.stereotype.Service;

import javax.transaction.Transactional;
import java.util.Optional;

@Service
public class PictureServiceImpl implements PictureService {

    private final PictureRepository pictureRepository;
    private final ProductService productService;

    public PictureServiceImpl(PictureRepository pictureRepository, @Lazy ProductService productService) {
        this.pictureRepository = pictureRepository;
        this.productService = productService;
    }

    @Override
    public void initializePictures() {

        if(pictureRepository.count() == 0){
            PictureEntity picture1 = new PictureEntity();
            picture1.setUrl("data:image/jpeg;base64,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");
            pictureRepository.save(picture1);
        }
    }

    @Override
    public PictureEntity addPictureEntity(PictureEntity picture1) {
        return pictureRepository.save(picture1);
    }

    @Override
    public PictureEntity getFirstPicture() {
        return pictureRepository.findAll().get(0);
    }

    @Override
    public PictureEntity addPictureInDb(PictureEntity pictureEntity) {

        return this.pictureRepository.save(pictureEntity);
    }


    @Override
    public void deleteByProductId(Long id) {
        ProductEntity productById = this.productService.findById(id);
        PictureEntity pictureByProductPictureId = this.pictureRepository.findById(productById.getPicture().getId()).get();

        System.out.println();

        pictureByProductPictureId.setProduct(null);
        pictureByProductPictureId = this.pictureRepository.save(pictureByProductPictureId);

        this.pictureRepository.deleteById(pictureByProductPictureId.getId());
        System.out.println();
    }

    @Override
    public PictureEntity findByProductId(Long id) {
       // return this.pictureRepository.findByProductId(id);
        return null;
    }

    @Override
    public Optional<PictureEntity> findByUrl(String urlPicture) {

       return this.pictureRepository.findByUrl(urlPicture);
    }

    @Override
    public void deleteOldPictureById(Long id) {
        this.pictureRepository.deleteById(id);
    }

}